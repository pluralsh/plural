external-dns:
  # sources:
  # - service
  # - ingress
  # # - contour-httpproxy
  provider: google
  txtOwnerId: piazza
  policy: sync
  rbac:
    create: true
    serviceAccountName: external-dns
  domainFilters:
  - piazzaapp.com
  google:
    serviceAccountSecret: externaldns

ownerEmail: mguarino46@gmail.com

cert-manager:
  installCRDs: true

loki-stack:
  grafana:
    enabled: false
    sidecar:
      image: {}
      notifiers:
        enabled: false

grafana:
  grafana.ini:
    security:
      allow_embedding: true
  admin:
    existingSecret: grafana-credentials
  dashboardProviders:
    dashboardproviders.yaml:
      apiVersion: 1
      providers:
      - name: default
        orgId: 1
        folder: ''
        type: file
        updateIntervalSeconds: 10
        disableDeletion: true
        editable: true
        options:
          path: /var/lib/grafana/dashboards/default
      - name: sidecar
        orgId: 1
        folder: ''
        type: file
        updateIntervalSeconds: 10
        disableDeletion: true
        editable: true
        options:
          path: /var/lib/grafana/dashboards/sidecar
  dashboards:
    default:
      kubernetes-overview:
        gnetId: 10856
        revision: 1
        uid: 'kubernetes-overview'
        datasource: Prometheus
      kubernetes-deepdive:
        gnetId: 8588
        revision: 1
        uid: 'kubernetes-deepdive'
        datasource: Prometheus
      node-overview:
        gnetId: 1860
        revision: 16
        uid: 'node-overview'
        datasource: Prometheus
  service:
    type: NodePort
  persistence:
    enabled: true
  sidecar:
    dashboards:
      provider:
        name: sidecar
        allowUiUpdates: true
      enabled: true
      searchNamespace: ALL
    datasources:
      enabled: true
      searchNamespace: ALL
  ingress:
    enabled: true
    path: /*
    annotations:
      networking.gke.io/managed-certificates: grafana-cert